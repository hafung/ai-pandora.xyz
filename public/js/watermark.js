(()=>{"use strict";var e={151:(e,t,n)=>{n.d(t,{P9:()=>o,al:()=>r,xC:()=>a});var r="zh-CN",o={"zh-CN":{title:"简易图片加水印，防盗图称心如意",logo:"ai-pandora",heading:"简易图片加水印，防盗图必备",subheading:"快速为多张图片添加自定义水印，一键生成，非常简单易用",copyright:"ai-pandora.xyz，",rights:"保留所有权利；",friendlyLinks:"友情链接:",RefHide:"隐私网址生成器",aiTitleGenerator:"AI论文标题生成器",iframeGenerator:"网页iframe生成器",githubProject:"GitHub",selectImages:"选择图片（最多20张）",watermarkText:"文字",watermarkDensity:"密度",watermarkColor:"颜色",watermarkSize:"字号(Px)",processImages:"处理图片",inputWatermarkText:"输入水印文字",chooseFile:"选择图片",noFileChosen:"未选择图片",downloadImage:"下载图片",invalidColorValue:"请输入有效的颜色值，例如 #000000",noImagesSelected:"请选择至少一张图片",filesSelected:"张图片已选择",fileSelected:"张图片已选择",pasteAreaText:"点击上传或直接粘贴图片",resetButton:"重置",watermarkResults:"加水印结果",downloadAll:"一键全部下载",noImagesToDownload:"没有可下载的图片",processImagesShort:"处理",resetButtonShort:"重置",watermarkPosition:"位置",watermarkPositionTile:"整体平铺",watermarkPositionBottomRight:"右下角",watermarkPositionBottomLeft:"左下角",watermarkPositionTopRight:"右上角",watermarkPositionTopLeft:"左上角",singleWatermark:"1个水印",twoByTwo:"2x2 (4个水印)",threeByThree:"3x3 (9个水印)",fourByFour:"4x4 (16个水印)",fiveByFive:"5x5 (25个水印)",sixBySix:"6x6 (36个水印)",copyToClipboard:"复制到剪贴板",imageCopied:"图片已复制到剪贴板",copyFailed:"复制失败，请重试",contactEmail:"欢迎联系反馈：",emailAddress:"contact@ai-pandora.xyz",howToUse:"如何高效加水印？",step1:"选择或粘贴图片（支持最多20张图片同时处理）",step2:"输入想要添加的水印文字",step3:"选择水印位置（整体平铺或四个角落之一）",step4:"调整水印密度（仅平铺模式）、颜色和大小",step5:'点击"处理图片"按钮生成水印',step6:"预览效果，可以直接下载或复制到剪贴板",step7:'使用"一键全部下载"批量保存所有处理后的图片',quickStep1:"上传图片",quickStep1Detail:"多选或直接粘贴",quickStep2:"输入水印",quickStep2Detail:"自定义水印文字",quickStep3:"一键处理",quickStep3Detail:"导出带水印图片",detailedSteps:"详细步骤",watermarkOpacity:"透明度(%)",qaTitle:"常见问题解答",qa1Title:"为什么选择 ai-pandora.xyz 加水印？",qa1Answer:"产品简单易用，批量处理更高效，用户体验优良。完全在本地浏览器运行，无需上传文件到服务器，确保用户隐私安全。支持多种水印样式和位置，满足不同场景需求。",qa2Title:"为什么说「ai-pandora.xyz」可以保护使用者隐私？",qa2Answer:"所有图片处理都在用户本地浏览器中完成，不会上传到任何服务器。源文件和处理后的文件都只存在于用户设备中，确保敏感信息的安全性。同时，网站完全免费，无需注册账号，不收集任何用户信息。",qa3Title:"加水印产品有什么典型的用户场景？",qa3Answer:"主要应用场景包括：1) 私域运营的素材保护，适合电商品牌运营人员和微商从业者；2) 敏感文件保护，如身份证、营业执照等证件的水印添加；3) 摄影作品版权保护；4) 产品图片、宣传材料的品牌标识添加。",watermarkPositionCenter:"居中",retirementCountdown:"退休倒计时",blogLink:"博客",privacyPolicy:"隐私政策",termsConditions:"使用条款",keyboardCounter:"键盘计数器",logoShort:"加水印"},en:{title:"Batch Image Watermark Tool",logo:"Watermark Adder",heading:"Batch Image Watermark Tool",subheading:"Quickly add custom watermarks to multiple images, generate with one click, very simple and easy to use",copyright:"ai-pandora.xyz, ",rights:"All rights reserved. ",friendlyLinks:"Friendly Links:",RefHide:"Hide your referrer",aiTitleGenerator:"AI Research Title Generator",iframeGenerator:"Webpage Iframe Generator",githubProject:"GitHub",selectImages:"Select Images (Max 20)",watermarkText:"Text",watermarkDensity:"Density",watermarkColor:"Color",watermarkSize:"Font Size (Px)",processImages:"Process Images",inputWatermarkText:"Enter watermark text",chooseFile:"Choose File",noFileChosen:"No image chosen",downloadImage:"Download Image",invalidColorValue:"Please enter a valid color value, e.g. #000000",noImagesSelected:"Please select at least one image",filesSelected:"images selected",fileSelected:"image selected",pasteAreaText:"Click to upload or paste images directly",resetButton:"Reset",watermarkResults:"Watermark Results",downloadAll:"Download All",noImagesToDownload:"No images to download",processImagesShort:"Process",resetButtonShort:"Reset",watermarkPosition:"Position",watermarkPositionTile:"Tile",watermarkPositionBottomRight:"Bottom Right",watermarkPositionBottomLeft:"Bottom Left",watermarkPositionTopRight:"Top Right",watermarkPositionTopLeft:"Top Left",singleWatermark:"1 watermark",twoByTwo:"2x2 (4 watermarks)",threeByThree:"3x3 (9 watermarks)",fourByFour:"4x4 (16 watermarks)",fiveByFive:"5x5 (25 watermarks)",sixBySix:"6x6 (36 watermarks)",copyToClipboard:"Copy to Clipboard",imageCopied:"Image copied to clipboard",copyFailed:"Copy failed, please try again",contactEmail:"Contact: ",emailAddress:"contact@ai-pandora.xyz",howToUse:"How to Use Watermark Adder",step1:"Select or paste images (up to 20 images at once)",step2:"Enter your watermark text",step3:"Choose watermark position (tile or corners)",step4:"Adjust density (tile mode only), color and size",step5:'Click "Process Images" button',step6:"Preview results, download or copy to clipboard",step7:'Use "Download All" for batch downloading',quickStep1:"Upload",quickStep1Detail:"Select or paste images",quickStep2:"Add Text",quickStep2Detail:"Set watermark text",quickStep3:"Process",quickStep3Detail:"Export with watermark",detailedSteps:"Detailed Steps",watermarkOpacity:"Opacity(%)",qaTitle:"FAQ",qa1Title:"Why choose ai-pandora.xyz?",qa1Answer:"Simple to use, efficient batch processing, and excellent user experience. All processing is done locally in the browser, ensuring privacy. Supports various watermark styles and positions to meet different needs.",qa2Title:"How does ai-pandora.xyz protect user privacy?",qa2Answer:"All image processing is done in your local browser, no files are uploaded to any server. Both source files and processed files remain only on your device, ensuring the security of sensitive information. The website is completely free, no registration required, and we collect no user information.",qa3Title:"What are the typical use cases?",qa3Answer:"1) Protecting marketing materials for private domain operations, popular among e-commerce brand operators; 2) Protecting sensitive documents like ID cards and business licenses; 3) Copyright protection for photography works; 4) Adding brand identifiers to product images and promotional materials.",watermarkPositionCenter:"Center",retirementCountdown:"Retirement Countdown",blogLink:"Blog",privacyPolicy:"Privacy Policy",termsConditions:"Terms & Conditions",keyboardCounter:"Keyboard Counter",logoShort:"WM Adder"}};function a(e){r=e,document.documentElement.lang=e,document.querySelectorAll("[data-i18n]").forEach((function(t){var n=t.getAttribute("data-i18n");t.textContent=o[e][n]})),document.querySelectorAll("[data-i18n-placeholder]").forEach((function(t){var n=t.getAttribute("data-i18n-placeholder");t.placeholder=o[e][n]}))}document.addEventListener("DOMContentLoaded",(function(){a(window.location.pathname.includes("/en")?"en":"zh-CN")}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r=n(151);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",s=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function m(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,a=Object.create(o.prototype),l=new F(r||[]);return i(a,"_invoke",{value:P(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var f="suspendedStart",h="suspendedYield",g="executing",y="completed",v={};function w(){}function k(){}function x(){}var b={};u(b,c,(function(){return this}));var E=Object.getPrototypeOf,B=E&&E(E(D([])));B&&B!==n&&r.call(B,c)&&(b=B);var I=x.prototype=w.prototype=Object.create(b);function L(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(a,i,l,c){var s=p(e[a],e,i);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==o(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,c)}))}c(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function P(t,n,r){var o=f;return function(a,i){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var l=r.delegate;if(l){var c=S(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var s=p(t,n,r);if("normal"===s.type){if(o=r.done?y:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=y,r.method="throw",r.arg=s.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=p(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return k.prototype=x,i(I,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:k,configurable:!0}),k.displayName=u(x,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,d,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},L(C.prototype),u(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new C(m(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},L(I),u(I,d,"Generator"),u(I,c,(function(){return this})),u(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=D,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,c,"next",e)}function c(e){i(a,r,o,l,c,"throw",e)}l(void 0)}))}}document.getElementById("imageInput");var c=document.getElementById("watermarkText"),s=document.getElementById("watermarkDensity"),d=document.getElementById("watermarkColor"),u=document.getElementById("watermarkSize"),m=document.getElementById("processButton"),p=document.getElementById("previewContainer"),f=document.getElementById("colorPreview"),h=document.getElementById("colorPicker"),g=document.getElementById("imageModal"),y=document.getElementById("modalImage"),v=document.getElementById("processingLoader"),w=document.getElementById("imagePreviewArea"),k=document.getElementById("resetButton"),x=[],b=document.getElementById("downloadAllButton"),E=document.getElementById("resultSection"),B=document.getElementById("watermarkPosition");function I(){if(console.log("Processing images..."),0!==x.length){var e=Math.min(x.length,20);p.innerHTML="";for(var t=0;t<e;t++)L(x[t]);E.classList.remove("hidden")}else alert(r.P9[r.al].noImagesSelected)}function L(e){console.log("Processing image:",e.name);var t=new FileReader;t.onload=function(t){var n=new Image;n.onload=function(){var t=document.createElement("canvas");t.width=n.width,t.height=n.height;var o=t.getContext("2d");o.drawImage(n,0,0);var a=c.value,i=B.value,l="tile"===i?parseInt(s.value):1,m=d.value,f=parseInt(u.value),h=parseInt(document.getElementById("watermarkOpacity").value)/100;if(/^#[0-9A-Fa-f]{6}$/.test(m)){if(o.fillStyle="rgba(".concat(parseInt(m.slice(1,3),16),", ").concat(parseInt(m.slice(3,5),16),", ").concat(parseInt(m.slice(5,7),16),", ").concat(h,")"),o.font="".concat(f,"px Arial"),o.textAlign="center",o.textBaseline="middle","tile"===i)for(var v=-Math.PI/4,w=t.width/l,k=t.height/l,x=0;x<l;x++)for(var b=0;b<l;b++){var E=(x+.5)*w,I=(b+.5)*k;o.save(),o.translate(E,I),o.rotate(v),o.fillText(a,0,0),o.restore()}else if("center"===i){var L=t.width/2,C=t.height/2;o.fillText(a,L,C)}else{var P,S,T=15;switch(i){case"bottomRight":P=t.width-T,S=t.height-T,o.textAlign="right",o.textBaseline="bottom";break;case"bottomLeft":P=T,S=t.height-T,o.textAlign="left",o.textBaseline="bottom";break;case"topRight":P=t.width-T,S=T,o.textAlign="right",o.textBaseline="top";break;case"topLeft":P=T,S=T,o.textAlign="left",o.textBaseline="top"}o.fillText(a,P,S)}var A=document.createElement("div");A.className="preview-item";var F=document.createElement("img");F.src=t.toDataURL(),F.className="preview-image",F.addEventListener("click",(function(){y.src=this.src,g.classList.remove("hidden")})),A.appendChild(F);var D=document.createElement("div");D.className="button-group";var q=document.createElement("a");q.href=t.toDataURL("image/png"),q.download="watermarked_".concat(e.name),q.textContent=r.P9[r.al].downloadImage,q.className="download-button",D.appendChild(q);var N=document.createElement("button");N.textContent=r.P9[r.al].copyToClipboard,N.className="copy-button",N.addEventListener("click",(function(){return function(e){return M.apply(this,arguments)}(t)})),D.appendChild(N),A.appendChild(D),p.appendChild(A)}else alert(r.P9[r.al].invalidColorValue)},n.src=t.target.result},t.readAsDataURL(e)}function C(){var e=d.value;/^#[0-9A-Fa-f]{6}$/.test(e)?(f.style.backgroundColor=e,h.value=e,d.style.borderColor="#e2e8f0"):(f.style.backgroundColor="#ffffff",d.style.borderColor="#f56565")}function P(e){var t=e.target.files;x=x.concat(Array.from(t)),T(),A()}function S(e){e.preventDefault(),e.stopPropagation();for(var t=e.clipboardData.items,n=[],r=0;r<t.length;r++)if(-1!==t[r].type.indexOf("image")){var o=t[r].getAsFile();n.push(o)}x=x.concat(n),T(),A()}function T(){var e=document.querySelector('span[data-i18n="noFileChosen"]');if(x.length>0){var t=x.length,n=1===t?r.P9[r.al].fileSelected:r.P9[r.al].filesSelected;e.textContent="".concat(t," ").concat(n)}else e.textContent=r.P9[r.al].noFileChosen}function A(){if(w.innerHTML="",x.forEach((function(e,t){if(t<20){var n=new FileReader;n.onload=function(e){var n=document.createElement("div");n.className="relative group";var r=document.createElement("img");r.src=e.target.result,r.className="w-16 h-16 object-cover rounded",n.appendChild(r);var o=document.createElement("button");o.className="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",o.innerHTML="×",o.onclick=function(e){e.stopPropagation(),x.splice(t,1),D(),T(),A()},n.appendChild(o),w.appendChild(n)},n.readAsDataURL(e)}})),x.length>20){var e=document.createElement("p");e.textContent="只显示前20张图片预览，共".concat(x.length,"张图片已上传"),e.className="text-sm text-gray-500 mt-2",w.appendChild(e)}}function F(){x=[],D(),T(),A(),document.getElementById("watermarkText").value="",document.getElementById("watermarkPosition").value="tile",document.getElementById("watermarkDensity").value="3",document.getElementById("watermarkDensity").disabled=!1,document.getElementById("watermarkColor").value="#dedede",document.getElementById("watermarkSize").value="20",C(),p.innerHTML="",E.classList.add("hidden"),document.getElementById("watermarkPosition").value="tile",document.getElementById("watermarkDensity").disabled=!1,j(!1),R(),document.getElementById("watermarkOpacity").value="80"}function D(){var e=new DataTransfer;x.forEach((function(t){return e.items.add(t)})),document.getElementById("imageInput").files=e.files}function q(){return N.apply(this,arguments)}function N(){return(N=l(a().mark((function e(){var t,n,o,i,l,s,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==p.children.length){e.next=3;break}return alert(r.P9[r.al].noImagesToDownload),e.abrupt("return");case 3:t=new JSZip,n=c.value||"watermark",a=void 0,a=new Date,o=a.getFullYear()+String(a.getMonth()+1).padStart(2,"0")+String(a.getDate()).padStart(2,"0")+String(a.getHours()).padStart(2,"0")+String(a.getMinutes()).padStart(2,"0"),i="".concat(n,"-").concat(o,".zip"),l=Array.from(p.querySelectorAll("img")).map((function(e){return e.src})),s=0;case 9:if(!(s<l.length)){e.next=17;break}return e.next=12,fetch(l[s]).then((function(e){return e.blob()}));case 12:d=e.sent,t.file("image-".concat(s+1,".png"),d);case 14:s++,e.next=9;break;case 17:t.generateAsync({type:"blob"}).then((function(e){FileSaver.saveAs(e,i)}));case 18:case"end":return e.stop()}var a}),e)})))).apply(this,arguments)}function O(){var e=window.innerWidth<=640,t=document.getElementById("processButton"),n=document.getElementById("resetButton");e?(t.textContent=r.P9[r.al].processImagesShort,n.textContent=r.P9[r.al].resetButtonShort):(t.textContent=r.P9[r.al].processImages,n.textContent=r.P9[r.al].resetButton)}function R(){var e=document.getElementById("watermarkPosition"),t=document.getElementById("watermarkDensity");"tile"===e.value?(t.disabled=!1,t.value=t.getAttribute("data-previous-value")||"3",j(!1)):(t.setAttribute("data-previous-value",t.value),t.value="1",t.disabled=!0,j(!0))}function j(e){var t=document.getElementById("watermarkDensity"),n=document.documentElement.lang;t.innerHTML=e?'<option value="1">'.concat(r.P9[n].singleWatermark,"</option>"):'\n            <option value="2" data-i18n="twoByTwo">'.concat(r.P9[n].twoByTwo,'</option>\n            <option value="3" selected data-i18n="threeByThree">').concat(r.P9[n].threeByThree,'</option>\n            <option value="4" data-i18n="fourByFour">').concat(r.P9[n].fourByFour,'</option>\n            <option value="5" data-i18n="fiveByFive">').concat(r.P9[n].fiveByFive,'</option>\n            <option value="6" data-i18n="sixBySix">').concat(r.P9[n].sixBySix,"</option>\n        ")}function z(e){var t=document.createElement("div");t.className="toast",t.textContent=e,document.body.appendChild(t),t.offsetHeight,t.classList.add("show"),setTimeout((function(){t.classList.remove("show"),setTimeout((function(){document.body.removeChild(t)}),300)}),2e3)}function M(){return(M=l(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return t.toBlob(e)}));case 3:return n=e.sent,e.next=6,navigator.clipboard.write([new ClipboardItem({"image/png":n})]);case 6:z(r.P9[r.al].imageCopied),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to copy image: ",e.t0),z(r.P9[r.al].copyFailed);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){var e;e="#dedede",d.value=e,h.value=e,f.style.backgroundColor=e,function(){var e=document.getElementById("imageInput"),t=document.getElementById("pasteArea"),n=document.createElement("span");n.className="mt-2 text-gray-600 block",n.setAttribute("data-i18n","noFileChosen"),n.textContent=r.P9[r.al].noFileChosen,t.parentNode.insertBefore(n,t.nextSibling),e.addEventListener("change",P)}(),m.addEventListener("click",I),d.addEventListener("input",C),f.addEventListener("click",(function(){return h.click()})),h.addEventListener("input",(function(){d.value=h.value,C()})),g.addEventListener("click",(function(){console.log("Modal clicked"),this.classList.add("hidden")})),console.log("imageModal element:",g),console.log("modalImage element:",y);var t=new URLSearchParams(window.location.search).get("lang")||(window.location.pathname.includes("/en")?"en":"zh-CN");(0,r.xC)(t);var n=document.getElementById("pasteArea"),o=document.getElementById("imageInput");n.addEventListener("click",(function(){return o.click()})),n.addEventListener("paste",S),document.addEventListener("paste",S),o.addEventListener("change",P),k.addEventListener("click",F),b.addEventListener("click",q),A(),O(),window.addEventListener("resize",O),document.getElementById("watermarkPosition").addEventListener("change",R),R(),j(!1)})),d.addEventListener("input",C),f.addEventListener("click",(function(){return h.click()})),h.addEventListener("input",(function(){d.value=h.value,C()})),g.addEventListener("click",(function(){console.log("Modal clicked"),this.classList.add("hidden")})),m.addEventListener("click",l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.style.display="block",m.disabled=!0,v.style.display="none",m.disabled=!1;case 3:case"end":return e.stop()}}),e)}))));var G=document.getElementById("watermarkOpacity");G.addEventListener("input",(function(e){this.value=this.value.replace(/[^\d]/g,"")})),G.addEventListener("blur",(function(e){var t=parseInt(this.value);isNaN(t)||""===t?t=80:t<0?t=0:t>100&&(t=100),this.value=t}))})();